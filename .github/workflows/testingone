name: trigger jenkins job
on: [push]
jobs:

  build:
    name: Build
    runs-on: self-hosted
    steps:
    - name: Trigger to sonarscanner job
      uses: Abhilash-1201/NodeJsBoilerplateCode@master
      with:
        host: ${{ secrets.SONARQUBE_HOST }}
        login: ${{ secrets.SONARQUBE_TOKEN }}
    - name: Trigger jenkins job
      uses: Abhilash-1201/NodeJsBoilerplateCode@master
      with:
        url: ${{ secrets.JENKINS_URL }}
        job_name: "NodeJs_Project"
        user_name: ${{ secrets.JENKINS_USER }}
        api_token: ${{ secrets.JENKINS_TOKEN }}
        wait: "true"
        timeout: "1000"
